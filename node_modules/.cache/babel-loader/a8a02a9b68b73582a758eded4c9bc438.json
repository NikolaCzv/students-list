{"ast":null,"code":"var _jsxFileName = \"/Users/nikolaraicic/School/Labs/Practice/students/src/containers/Students/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Loader } from '../../common';\nimport { Student } from \"./components/Student\";\nimport { publicAPI } from \"../../utils\";\nimport { Container, InputFilter, Content } from \"./style\";\n\nconst Students = () => {\n  const [students, setStudents] = useState([]);\n  const [filteredStudents, setFilteredStudents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [expand, setExpand] = useState({});\n  const [tags, setTags] = useState({});\n  useEffect(() => {\n    (async () => {\n      try {\n        const {\n          data\n        } = await publicAPI.get('/assessment/students');\n        setStudents(data.students);\n        setFilteredStudents(data.students);\n        setLoading(false);\n      } catch (error) {\n        console.error(error);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  const handleChangeSearch = e => {\n    const name = e.target.value;\n    const filtered = students.filter(s => s.firstName.toLowerCase().indexOf(name) > -1 || s.lastName.toLowerCase().indexOf(name) > -1);\n    setFilteredStudents([...filtered]);\n  };\n\n  const handleTagSearch = e => {\n    const tag = e.target.value;\n    const filtred = tags.filter(t => t.firstName.toLowerCase().indexOf(tag) > -1);\n    setFilteredStudents([...filtred]);\n  };\n\n  const handleChangeTag = (e, id) => {\n    if (e.key === 'Enter') {\n      const value = e.target.value;\n      const currentTags = tags[id];\n\n      if (currentTags) {\n        const newTags = { ...tags,\n          [id]: [...currentTags, value]\n        };\n        return setTags(newTags);\n      }\n\n      return setTags({ ...tags,\n        [id]: [value]\n      });\n    }\n  };\n\n  if (loading) return /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  });\n  console.log(tags);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputFilter, {\n    placeholder: \"Search by name...\",\n    onChange: handleChangeSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(InputFilter, {\n    placeholder: \"Search by tag...\",\n    onChange: hand,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), filteredStudents.map(student => /*#__PURE__*/React.createElement(Student, {\n    key: student.id,\n    expand: expand,\n    setExpand: setExpand,\n    onChangeTag: handleChangeTag,\n    tags: tags,\n    student: student,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }))));\n};\n\nexport default Students;","map":{"version":3,"sources":["/Users/nikolaraicic/School/Labs/Practice/students/src/containers/Students/index.js"],"names":["React","useEffect","useState","Loader","Student","publicAPI","Container","InputFilter","Content","Students","students","setStudents","filteredStudents","setFilteredStudents","loading","setLoading","expand","setExpand","tags","setTags","data","get","error","console","handleChangeSearch","e","name","target","value","filtered","filter","s","firstName","toLowerCase","indexOf","lastName","handleTagSearch","tag","filtred","t","handleChangeTag","id","key","currentTags","newTags","log","hand","map","student"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Loader } from '../../common';\nimport { Student } from \"./components/Student\";\nimport { publicAPI } from \"../../utils\";\nimport { Container, InputFilter, Content } from \"./style\";\n\nconst Students = () => {\n    const [students, setStudents] = useState([]);\n    const [filteredStudents, setFilteredStudents] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [expand, setExpand] = useState({});\n    const [tags, setTags] = useState({});\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const { data } = await publicAPI.get('/assessment/students');\n                setStudents(data.students);\n                setFilteredStudents(data.students);\n                setLoading(false);\n            } catch (error) {\n                console.error(error);\n                setLoading(false);\n            }\n        })()\n    }, []);\n\n    const handleChangeSearch = e => {\n        const name = e.target.value;\n        const filtered = students.filter(s => s.firstName.toLowerCase().indexOf(name) > -1 ||  s.lastName.toLowerCase().indexOf(name) > -1);\n        setFilteredStudents([...filtered]);\n    }\n\n    const handleTagSearch = e => {\n        const tag = e.target.value;\n        const filtred = tags.filter(t => t.firstName.toLowerCase().indexOf(tag) > -1);\n        setFilteredStudents([...filtred]);\n    }\n\n    const handleChangeTag = (e, id) => {\n        if (e.key === 'Enter') {\n            const value = e.target.value;\n            const currentTags = tags[id];\n\n            if (currentTags) {\n                const newTags = {\n                    ...tags,\n                    [id]: [...currentTags, value]\n                }\n                return setTags(newTags);\n            }\n\n            return setTags({\n                ...tags,\n                [id]: [value]\n            });\n        }\n    }\n\n    if (loading) return <Loader />;\n    console.log(tags)\n\n    return (\n        <Container>\n            <Content>\n            <InputFilter placeholder=\"Search by name...\" onChange={handleChangeSearch} />\n            <InputFilter placeholder=\"Search by tag...\" onChange={hand} />\n            {filteredStudents.map(student =>\n                <Student\n                    key={student.id}\n                    expand={expand}\n                    setExpand={setExpand}\n                    onChangeTag={handleChangeTag}\n                    tags={tags}\n                    student={student}\n                />\n            )}\n            </Content>\n        </Container>\n    )\n}\n\nexport default Students;"]},"metadata":{},"sourceType":"module"}